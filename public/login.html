<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login ‚Ä¢ CHRONOMUSIOUN</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="navbar">
        <div class="nav-left"><div class="logo">CHRONOMUSIOUN</div></div>
        <div class="nav-right">
            <nav aria-label="Primary">
                <a href="/index.html">Home</a>
                <a href="/favourite.html">Favourite</a>
                <a href="/about.html">About</a>
                <a href="/gallery.html">Gallery</a>
                <a href="/download.html">Download</a>
            </nav>
            <a class="btn" href="/signup.html">Sign up</a>
        </div>
    </header>

    <main>
        <section style="padding: 44px 20px; max-width: 560px; margin: 0 auto;">
            <h1>Login</h1>
            <form id="loginForm" class="modal-card" onsubmit="return false;">
                <label>Email<input id="email" type="email" placeholder="Enter email" required></label>
                <label>Password<input id="password" type="password" placeholder="Enter password" required></label>
                <button id="loginBtn" class="btn btn-primary" style="margin-top:16px">Login</button>
                <p style="color:var(--muted)">No account? <a href="/signup.html">Sign up</a></p>
            </form>
            <div style="margin-top:16px">
                <div id="g_id_signin" class="g_id_signin" data-type="standard" data-size="large" data-theme="outline" data-text="sign_in_with" data-shape="rectangular" data-logo_alignment="left"></div>
            </div>
        </section>
    </main>

    <a href="#top" class="back-to-top">Back To Top ^</a>
    <footer class="footer footer-grid">
        <div class="footer-brand">
            <div class="brand-row"><span class="brand-icon">üèõÔ∏è</span><span class="brand-name">CHRONOMUSIOUN</span></div>
            <p>An online museum integrating collections nationally and internationally.</p>
            <p class="small">Features: Gallery | Favourites | Search | Download</p>
        </div>
        <div class="footer-col">
            <h4>QUICK LINKS</h4>
            <a href="/index.html">HOME</a>
            <a href="/gallery.html">GALLERY</a>
        </div>
        <div class="footer-col">
            <h4>HELP</h4>
            <a href="/contact.html">SUPPORT TEAM</a>
            <a href="/contact.html">CONTACT US</a>
        </div>
        <div class="footer-col">
            <h4>ABOUT</h4>
            <a href="/privacy.html">PRIVACY & POLICY</a>
            <a href="/terms.html">TERMS & CONDITION</a>
        </div>
        <div class="footer-col">
            <h4>MAIL US:</h4>
            <a href="mailto:supportteamchrono@hotmail.com">supportteamchrono@hotmail.com</a>
            <a href="mailto:supportteammuseioun@live.in">supportteammuseioun@live.in</a>
        </div>
        <div class="footer-col">
            <h4>OFFICE ADDRESS</h4>
            <div class="address">üìç Greater noida, knowledge park III,<br>gautam budh nagar,<br>pin code 201008</div>
        </div>
        <div class="footer-sep"></div>
        <div class="footer-copy">¬© <span id="year"></span> CHRONOMUSIOUN | All rights reserved</div>
    </footer>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
// If already logged in, go home
(async()=>{ try{ const me = await fetch('/api/me',{credentials:'include'}).then(r=>r.json()); if(me && me.user){ window.location.href='/index.html'; } }catch{} })();
document.getElementById('year').textContent = new Date().getFullYear();
document.getElementById('loginBtn').addEventListener('click', async () => {
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();
  try{
    const res = await fetch('/api/login', { method:'POST', credentials:'include', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ email, password }) });
    if(!res.ok){ if(res.status===401) { alert('Not registered. Please sign up first.'); window.location.href='/signup.html'; return; } throw new Error('Login failed'); }
    const data = await res.json();
    if(data.token){ localStorage.setItem('auth_token', data.token); }
    window.location.href = '/index.html';
  }catch{ alert('Login failed'); }
});

// Google Identity Services initialization
async function initGoogle(){
  try{
    const cfg = await fetch('/api/config').then(r=>r.json());
    if(!cfg.googleClientId) return;
    window.google?.accounts.id.initialize({
      client_id: cfg.googleClientId,
      callback: async (response) => {
        try{
          const r = await fetch('/api/google-login', { method:'POST', credentials:'include', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ credential: response.credential }) });
          if(!r.ok) throw new Error('Google login failed');
          const data = await r.json();
          if(data.token){ localStorage.setItem('auth_token', data.token); }
          window.location.href = '/index.html';
        }catch{ alert('Google login failed'); }
      }
    });
    window.google?.accounts.id.renderButton(document.getElementById('g_id_signin'), { theme: 'outline', size: 'large' });
  }catch{}
}
window.addEventListener('load', initGoogle);
    </script>

    <style>
        :root { --bg:#0a0c12; --bg-soft:#121623; --text:#f1f3f8; --muted:#a9afc3; --primary:#6b8cff; --accent:#2ee6a6; --card:#161b2a; --border:#242b3f; --space-3:16px; --space-4:20px; --radius:12px; }
        *{box-sizing:border-box} body{margin:0;font-family:'Inter',system-ui;background:linear-gradient(180deg,var(--bg) 0%,#0f1320 100%);color:var(--text)}
        .navbar{position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;padding:var(--space-3) var(--space-4);background:rgba(10,12,18,0.8);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}
        .nav-left{display:flex;align-items:center;gap:var(--space-3)} .logo{font-weight:800}
        .nav-right{display:flex;align-items:center;gap:var(--space-3)} .navbar nav{display:flex;gap:var(--space-3)} .navbar nav a{color:var(--muted);text-decoration:none}
        .navbar nav a:hover{color:var(--text)}
        .btn{background:var(--card);border:1px solid var(--border);color:var(--text);padding:9px 14px;border-radius:var(--radius);text-decoration:none;cursor:pointer}
        .btn-primary{background:var(--primary);border-color:var(--primary);color:#fff}
        .modal-card{background:var(--bg-soft);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:grid;gap:10px}
        .modal-card input{background:var(--card);border:1px solid var(--border);color:var(--text);padding:9px 12px;border-radius:var(--radius)}
        .footer{border-top:1px solid var(--border);padding:var(--space-4);color:var(--muted);background:rgba(10,12,18,0.6)}
        .back-to-top{display:block;text-align:center;padding:10px;background:#bfb7b3;color:#111;font-weight:600;text-decoration:none}
        .footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1.2fr 1.6fr;gap:20px}
        .brand-row{display:flex;gap:10px;align-items:center}.brand-name{font-weight:800}
        .footer h4{margin:0 0 10px 0;color:var(--text);font-size:14px}
        .footer a{color:var(--muted);text-decoration:none;display:block;margin:4px 0}
        .footer a:hover{color:var(--text)} .small{font-size:12px}
        .footer-sep{grid-column:1/-1;height:1px;background:var(--border)}
        .footer-copy{grid-column:1/-1}
    </style>
</body>
</html>


